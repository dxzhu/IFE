<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>任务一：表单（一）单个表单项的检验</title>
	<style type="text/css">
		label{
			display: inline-block;
			line-height: 20px;
			font-size: 15px;
			padding:  0 20px;
		}
		input{
			border-radius: 4px;
			height: 20px;
			border: 1px solid #888;
		}
		button{
			margin-left: 9px;
		    line-height: 20px;
		    background: #1A94E6;
		    border: none;
		    color: #fff;
		    border-radius: 5px;
		}
		p{
		    padding-left: 70px;
		    font-size: 10px;
		    margin-top: 2px;
		}
		#p1,#p2,#p3{
			display: none;
		}
		#p2,#p3{
			color: red;
		}
		#p1{
			color: green;
		}
	</style>
</head>
<body>
	<label for="">名称</label><input type="text" id="ipt"><button id="btn">验证</button>
	<p id="pid">必填，长度为4~16个字符</p>
	<p id="p2">姓名不能为空</p>
	<p id="p1">名称格式正确</p>
	<p id="p3">名称格式错误</p>





	<script type="text/javascript">


		var Event = {
		    	addEvent: function(element,type,handler){
		    		if (element.addEventListener) {
		    			element.addEventListener(type,handler,false)
		    		} else if (element.attachEvent){
		    			element.attachEvent('on'+type,handler)
		    		} else {
		    			element['on'+type] = handler;
		    		}
		    	},
		    	removeHandler: function(element,type,handler){
		    		if (element.removeEventListener) {
		    			element.removeEventListener(type,handler,false)
		    		} else if (element.detachEvent) {
		    			element.detachEvent('on'+type,handler)
		    		} else {
		    			element['on'+type] = null;
		    		}
		    	}
		    };
		function init(){
			var btn = document.getElementById('btn');
			Event.addEvent(btn,'click',query)
		}

		function query(){
			var ipt = document.getElementById('ipt'),
				pid = document.getElementById('pid'),
				pid3 = document.getElementById('p3')
				pid2 = document.getElementById('p2'),
				pid1 = document.getElementById('p1'),
				length = 0,
				data = ipt.value;
			for(var i=0;i<data.length;i++){
				var x = data.charCodeAt(i);
				if (x>0x00 && x<0xFF) {
				length++;

				
				} else{
				length+=2;
				}
			}			
			if (length>=4 && length<=16) {
				pid.style.display = 'none';
				pid3.style.display = 'none';
				pid2.style.display = 'none';
				pid1.style.display = 'block';
				ipt.style.border = '1px solid green'

			}else if(length === 0 ){
				pid.style.display = 'none';
				pid3.style.display = 'none';
				pid2.style.display = 'block';
				pid1.style.display = 'none';
				ipt.style.border = '1px solid red';
			}else{
				pid.style.display = 'none';
				pid1.style.display = 'none';
				pid2.style.display = 'none';
				pid3.style.display = 'block';
				ipt.style.border = '1px solid red';
			}
		}
		init();
	</script>
</body>
</html>
